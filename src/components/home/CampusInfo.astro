---
/**
 * CampusInfo Component
 * Displays Campus Information with tabs: Berita (News), Agenda, and Pengumuman (Announcements)
 * Features a carousel for news items showing 3 at a time from 6 total
 */

interface NewsItem {
    id: number;
    title: string;
    excerpt: string;
    image: string;
    date: string;
    category: string;
    slug: string;
}

interface AgendaItem {
    id: number;
    title: string;
    date: string;
    time: string;
    location: string;
    description: string;
}

interface AnnouncementItem {
    id: number;
    title: string;
    date: string;
    excerpt: string;
    priority: "high" | "normal";
    slug: string;
}

// Sample data - will be replaced with Strapi CMS data
const newsItems: NewsItem[] = [
    {
        id: 1,
        title: "UIT Raih Akreditasi A dari BAN-PT",
        excerpt:
            "Universitas Indonesia Tangerang berhasil meraih akreditasi A dari Badan Akreditasi Nasional Perguruan Tinggi...",
        image: "/images/news/news-1.jpg",
        date: "2026-01-15",
        category: "Prestasi",
        slug: "uit-raih-akreditasi-a",
    },
    {
        id: 2,
        title: "Penerimaan Mahasiswa Baru Gelombang 2 Dibuka",
        excerpt:
            "UIT membuka pendaftaran mahasiswa baru gelombang 2 untuk tahun akademik 2026/2027...",
        image: "/images/news/news-2.jpg",
        date: "2026-01-14",
        category: "Akademik",
        slug: "penerimaan-mahasiswa-baru",
    },
    {
        id: 3,
        title: "Seminar Nasional Teknologi dan Inovasi 2026",
        excerpt:
            "Fakultas Teknik UIT menyelenggarakan seminar nasional dengan tema Teknologi dan Inovasi Digital...",
        image: "/images/news/news-3.jpg",
        date: "2026-01-13",
        category: "Event",
        slug: "seminar-nasional-teknologi",
    },
    {
        id: 4,
        title: "Kerjasama dengan Industri untuk Program Magang",
        excerpt:
            "UIT menjalin kerjasama dengan berbagai perusahaan terkemuka untuk program magang mahasiswa...",
        image: "/images/news/news-4.jpg",
        date: "2026-01-12",
        category: "Kerjasama",
        slug: "kerjasama-industri-magang",
    },
    {
        id: 5,
        title: "Mahasiswa UIT Juara Kompetisi Nasional",
        excerpt:
            "Tim mahasiswa UIT berhasil meraih juara pertama dalam kompetisi inovasi teknologi tingkat nasional...",
        image: "/images/news/news-5.jpg",
        date: "2026-01-11",
        category: "Prestasi",
        slug: "mahasiswa-juara-kompetisi",
    },
    {
        id: 6,
        title: "Peluncuran Pusat Riset dan Pengembangan Baru",
        excerpt:
            "UIT meluncurkan pusat riset dan pengembangan yang fokus pada teknologi artificial intelligence...",
        image: "/images/news/news-6.jpg",
        date: "2026-01-10",
        category: "Fasilitas",
        slug: "peluncuran-pusat-riset",
    },
];

const agendaItems: AgendaItem[] = [
    {
        id: 1,
        title: "Wisuda Periode 1 Tahun 2026",
        date: "2026-02-15",
        time: "08:00 - 12:00 WIB",
        location: "Auditorium Utama UIT",
        description:
            "Upacara wisuda untuk lulusan periode 1 tahun akademik 2025/2026",
    },
    {
        id: 2,
        title: "Workshop Digital Marketing",
        date: "2026-02-10",
        time: "13:00 - 16:00 WIB",
        location: "Ruang Seminar Lt. 3",
        description:
            "Workshop bersama praktisi digital marketing untuk mahasiswa dan umum",
    },
    {
        id: 3,
        title: "Ujian Tengah Semester",
        date: "2026-02-20",
        time: "Full Day",
        location: "Berbagai Ruang Kelas",
        description: "Pelaksanaan ujian tengah semester genap 2025/2026",
    },
    {
        id: 4,
        title: "Career Day 2026",
        date: "2026-03-05",
        time: "09:00 - 17:00 WIB",
        location: "Hall Convention Center UIT",
        description:
            "Bursa kerja dan career talk dengan perusahaan-perusahaan terkemuka",
    },
];

const announcements: AnnouncementItem[] = [
    {
        id: 1,
        title: "Perpanjangan Batas Waktu Pembayaran UKT",
        date: "2026-01-14",
        excerpt:
            "Mengumumkan perpanjangan batas waktu pembayaran UKT semester genap hingga 31 Januari 2026...",
        priority: "high",
        slug: "perpanjangan-pembayaran-ukt",
    },
    {
        id: 2,
        title: "Jadwal Libur Semester Genap 2025/2026",
        date: "2026-01-13",
        excerpt:
            "Informasi mengenai jadwal libur semester dan hari besar keagamaan untuk semester genap...",
        priority: "normal",
        slug: "jadwal-libur-semester",
    },
    {
        id: 3,
        title: "Pendaftaran Beasiswa Prestasi Akademik",
        date: "2026-01-12",
        excerpt:
            "Dibuka pendaftaran beasiswa prestasi akademik untuk mahasiswa dengan IPK minimal 3.5...",
        priority: "high",
        slug: "pendaftaran-beasiswa-prestasi",
    },
    {
        id: 4,
        title: "Perubahan Sistem Absensi Menggunakan QR Code",
        date: "2026-01-11",
        excerpt:
            "Mulai semester genap, sistem absensi akan menggunakan teknologi QR code untuk efisiensi...",
        priority: "normal",
        slug: "perubahan-sistem-absensi",
    },
    {
        id: 5,
        title: "Pemeliharaan Sistem Informasi Akademik",
        date: "2026-01-10",
        excerpt:
            "Sistem informasi akademik akan mengalami pemeliharaan pada tanggal 20 Januari 2026...",
        priority: "high",
        slug: "pemeliharaan-sistem-akademik",
    },
];

// Format date helper
function formatDate(dateString: string): string {
    const date = new Date(dateString);
    const options: Intl.DateTimeFormatOptions = {
        year: "numeric",
        month: "long",
        day: "numeric",
    };
    return date.toLocaleDateString("id-ID", options);
}
---

<section class="campus-info-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Informasi Kampus</h2>
            <p class="section-subtitle">
                Berita, Agenda, dan Pengumuman Terkini
            </p>
        </div>

        <div class="tabs-container">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="berita">
                    <svg
                        class="tab-icon"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"
                        ></path>
                    </svg>
                    <span>Berita</span>
                </button>
                <button class="tab-button" data-tab="agenda">
                    <svg
                        class="tab-icon"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                        ></path>
                    </svg>
                    <span>Agenda</span>
                </button>
                <button class="tab-button" data-tab="pengumuman">
                    <svg
                        class="tab-icon"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"
                        ></path>
                    </svg>
                    <span>Pengumuman</span>
                </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content-wrapper">
                <!-- Berita Tab -->
                <div class="tab-content active" data-content="berita">
                    <div class="news-carousel-wrapper">
                        <div class="carousel-controls">
                            <button
                                class="carousel-button prev"
                                aria-label="Previous"
                            >
                                <svg
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <button
                                class="carousel-button next"
                                aria-label="Next"
                            >
                                <svg
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M9 5l7 7-7 7"></path>
                                </svg>
                            </button>
                        </div>

                        <div class="news-carousel">
                            <div class="news-track">
                                {
                                    newsItems.map((news) => (
                                        <article class="news-card">
                                            <div class="news-image-wrapper">
                                                <img
                                                    src={news.image}
                                                    alt={news.title}
                                                    class="news-image"
                                                    loading="lazy"
                                                />
                                                <span class="news-category">
                                                    {news.category}
                                                </span>
                                            </div>
                                            <div class="news-content">
                                                <time class="news-date">
                                                    {formatDate(news.date)}
                                                </time>
                                                <h3 class="news-title">
                                                    {news.title}
                                                </h3>
                                                <p class="news-excerpt">
                                                    {news.excerpt}
                                                </p>
                                                <a
                                                    href={`/news/${news.slug}`}
                                                    class="news-link"
                                                >
                                                    Baca Selengkapnya
                                                    <svg
                                                        fill="none"
                                                        stroke="currentColor"
                                                        viewBox="0 0 24 24"
                                                    >
                                                        <path
                                                            stroke-linecap="round"
                                                            stroke-linejoin="round"
                                                            stroke-width="2"
                                                            d="M9 5l7 7-7 7"
                                                        />
                                                    </svg>
                                                </a>
                                            </div>
                                        </article>
                                    ))
                                }
                            </div>
                        </div>

                        <div class="carousel-indicators">
                            {
                                Array.from(
                                    { length: Math.ceil(newsItems.length / 3) },
                                    (_, i) => (
                                        <button
                                            class={`indicator ${i === 0 ? "active" : ""}`}
                                            data-index={i}
                                            aria-label={`Go to slide ${i + 1}`}
                                        />
                                    ),
                                )
                            }
                        </div>
                    </div>

                    <div class="view-all-wrapper">
                        <a href="/news" class="view-all-link">
                            Lihat Semua Berita
                            <svg
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                            </svg>
                        </a>
                    </div>
                </div>

                <!-- Agenda Tab -->
                <div class="tab-content" data-content="agenda">
                    <div class="agenda-list">
                        {
                            agendaItems.map((agenda) => (
                                <article class="agenda-card">
                                    <div class="agenda-date-badge">
                                        <span class="agenda-day">
                                            {new Date(agenda.date).getDate()}
                                        </span>
                                        <span class="agenda-month">
                                            {new Date(
                                                agenda.date,
                                            ).toLocaleDateString("id-ID", {
                                                month: "short",
                                            })}
                                        </span>
                                    </div>
                                    <div class="agenda-content">
                                        <h3 class="agenda-title">
                                            {agenda.title}
                                        </h3>
                                        <div class="agenda-meta">
                                            <div class="agenda-meta-item">
                                                <svg
                                                    fill="none"
                                                    stroke="currentColor"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                                                    />
                                                </svg>
                                                <span>{agenda.time}</span>
                                            </div>
                                            <div class="agenda-meta-item">
                                                <svg
                                                    fill="none"
                                                    stroke="currentColor"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                                                    />
                                                    <path
                                                        stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                                                    />
                                                </svg>
                                                <span>{agenda.location}</span>
                                            </div>
                                        </div>
                                        <p class="agenda-description">
                                            {agenda.description}
                                        </p>
                                    </div>
                                </article>
                            ))
                        }
                    </div>
                </div>

                <!-- Pengumuman Tab -->
                <div class="tab-content" data-content="pengumuman">
                    <div class="announcements-list">
                        {
                            announcements.map((announcement) => (
                                <article
                                    class={`announcement-card ${announcement.priority === "high" ? "priority-high" : ""}`}
                                >
                                    <div class="announcement-header">
                                        {announcement.priority === "high" && (
                                            <span class="priority-badge">
                                                <svg
                                                    fill="currentColor"
                                                    viewBox="0 0 20 20"
                                                >
                                                    <path
                                                        fill-rule="evenodd"
                                                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                                        clip-rule="evenodd"
                                                    />
                                                </svg>
                                                Penting
                                            </span>
                                        )}
                                        <time class="announcement-date">
                                            {formatDate(announcement.date)}
                                        </time>
                                    </div>
                                    <h3 class="announcement-title">
                                        {announcement.title}
                                    </h3>
                                    <p class="announcement-excerpt">
                                        {announcement.excerpt}
                                    </p>
                                    <a
                                        href={`/announcements/${announcement.slug}`}
                                        class="announcement-link"
                                    >
                                        Baca Selengkapnya
                                        <svg
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M9 5l7 7-7 7"
                                            />
                                        </svg>
                                    </a>
                                </article>
                            ))
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .campus-info-section {
        padding: 80px 0;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    .section-header {
        text-align: center;
        margin-bottom: 50px;
    }

    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #1a1a2e;
        margin-bottom: 10px;
    }

    .section-subtitle {
        font-size: 1.125rem;
        color: #6c757d;
    }

    /* Tabs Navigation */
    .tabs-container {
        background: white;
        border-radius: 16px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        overflow: hidden;
    }

    .tab-navigation {
        display: flex;
        border-bottom: 2px solid #e9ecef;
        background: #f8f9fa;
    }

    .tab-button {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 20px;
        background: transparent;
        border: none;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        color: #6c757d;
        transition: all 0.3s ease;
        position: relative;
    }

    .tab-button:hover {
        background: white;
        color: #0066cc;
    }

    .tab-button.active {
        background: white;
        color: #0066cc;
    }

    .tab-button.active::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 3px;
        background: #0066cc;
    }

    .tab-icon {
        width: 24px;
        height: 24px;
    }

    /* Tab Content */
    .tab-content-wrapper {
        padding: 40px;
    }

    .tab-content {
        display: none;
        animation: fadeIn 0.5s ease;
    }

    .tab-content.active {
        display: block;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* News Carousel */
    .news-carousel-wrapper {
        position: relative;
        margin-bottom: 30px;
    }

    .carousel-controls {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        transform: translateY(-50%);
        display: flex;
        justify-content: space-between;
        pointer-events: none;
        z-index: 10;
    }

    .carousel-button {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: white;
        border: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        pointer-events: all;
    }

    .carousel-button:hover {
        background: #0066cc;
        color: white;
        transform: scale(1.1);
    }

    .carousel-button svg {
        width: 24px;
        height: 24px;
    }

    .carousel-button.prev {
        margin-left: -25px;
    }

    .carousel-button.next {
        margin-right: -25px;
    }

    .news-carousel {
        overflow: hidden;
        padding: 10px 0;
    }

    .news-track {
        display: flex;
        gap: 24px;
        transition: transform 0.5s ease;
    }

    .news-card {
        flex: 0 0 calc(33.333% - 16px);
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
    }

    .news-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .news-image-wrapper {
        position: relative;
        height: 200px;
        overflow: hidden;
    }

    .news-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .news-card:hover .news-image {
        transform: scale(1.1);
    }

    .news-category {
        position: absolute;
        top: 12px;
        left: 12px;
        background: #0066cc;
        color: white;
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .news-content {
        padding: 20px;
    }

    .news-date {
        display: block;
        font-size: 0.875rem;
        color: #6c757d;
        margin-bottom: 10px;
    }

    .news-title {
        font-size: 1.125rem;
        font-weight: 700;
        color: #1a1a2e;
        margin-bottom: 12px;
        line-height: 1.4;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .news-excerpt {
        font-size: 0.938rem;
        color: #6c757d;
        line-height: 1.6;
        margin-bottom: 16px;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .news-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        color: #0066cc;
        font-weight: 600;
        font-size: 0.875rem;
        text-decoration: none;
        transition: gap 0.3s ease;
    }

    .news-link:hover {
        gap: 10px;
    }

    .news-link svg {
        width: 16px;
        height: 16px;
    }

    /* Carousel Indicators */
    .carousel-indicators {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 24px;
    }

    .indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #cbd5e0;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .indicator.active {
        background: #0066cc;
        width: 32px;
        border-radius: 6px;
    }

    .view-all-wrapper {
        text-align: center;
        padding-top: 20px;
    }

    .view-all-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 32px;
        background: #0066cc;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .view-all-link:hover {
        background: #0052a3;
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(0, 102, 204, 0.3);
    }

    .view-all-link svg {
        width: 20px;
        height: 20px;
    }

    /* Agenda List */
    .agenda-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .agenda-card {
        display: flex;
        gap: 24px;
        padding: 24px;
        background: #f8f9fa;
        border-radius: 12px;
        border-left: 4px solid #0066cc;
        transition: all 0.3s ease;
    }

    .agenda-card:hover {
        background: white;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        transform: translateX(4px);
    }

    .agenda-date-badge {
        flex-shrink: 0;
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #0066cc 0%, #0052a3 100%);
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
    }

    .agenda-day {
        font-size: 2rem;
        font-weight: 700;
        line-height: 1;
    }

    .agenda-month {
        font-size: 0.875rem;
        font-weight: 600;
        text-transform: uppercase;
        margin-top: 4px;
    }

    .agenda-content {
        flex: 1;
    }

    .agenda-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1a1a2e;
        margin-bottom: 12px;
    }

    .agenda-meta {
        display: flex;
        gap: 24px;
        margin-bottom: 12px;
    }

    .agenda-meta-item {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #6c757d;
        font-size: 0.938rem;
    }

    .agenda-meta-item svg {
        width: 20px;
        height: 20px;
    }

    .agenda-description {
        color: #495057;
        line-height: 1.6;
        font-size: 0.938rem;
    }

    /* Announcements List */
    .announcements-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
    }

    .announcement-card {
        padding: 24px;
        background: #f8f9fa;
        border-radius: 12px;
        border-top: 4px solid #0066cc;
        transition: all 0.3s ease;
    }

    .announcement-card:hover {
        background: white;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        transform: translateY(-4px);
    }

    .announcement-card.priority-high {
        border-top-color: #dc3545;
        background: linear-gradient(135deg, #fff5f5 0%, #f8f9fa 100%);
    }

    .announcement-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
    }

    .priority-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 12px;
        background: #dc3545;
        color: white;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .priority-badge svg {
        width: 16px;
        height: 16px;
    }

    .announcement-date {
        font-size: 0.875rem;
        color: #6c757d;
    }

    .announcement-title {
        font-size: 1.125rem;
        font-weight: 700;
        color: #1a1a2e;
        margin-bottom: 12px;
        line-height: 1.4;
    }

    .announcement-excerpt {
        font-size: 0.938rem;
        color: #495057;
        line-height: 1.6;
        margin-bottom: 16px;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .announcement-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        color: #0066cc;
        font-weight: 600;
        font-size: 0.875rem;
        text-decoration: none;
        transition: gap 0.3s ease;
    }

    .announcement-link:hover {
        gap: 10px;
    }

    .announcement-link svg {
        width: 16px;
        height: 16px;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
        .news-card {
            flex: 0 0 calc(50% - 12px);
        }
    }

    @media (max-width: 768px) {
        .campus-info-section {
            padding: 60px 0;
        }

        .section-title {
            font-size: 2rem;
        }

        .tab-navigation {
            flex-direction: column;
        }

        .tab-button {
            padding: 16px;
        }

        .tab-content-wrapper {
            padding: 24px;
        }

        .news-card {
            flex: 0 0 100%;
        }

        .carousel-button {
            display: none;
        }

        .agenda-card {
            flex-direction: column;
        }

        .announcements-list {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 480px) {
        .section-title {
            font-size: 1.75rem;
        }

        .tab-button span {
            font-size: 0.875rem;
        }

        .news-title,
        .agenda-title,
        .announcement-title {
            font-size: 1rem;
        }
    }
</style>

<script>
    // Tab switching functionality
    const tabButtons = document.querySelectorAll(".tab-button");
    const tabContents = document.querySelectorAll(".tab-content");

    tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
            const tabName = button.getAttribute("data-tab");

            // Remove active class from all buttons and contents
            tabButtons.forEach((btn) => btn.classList.remove("active"));
            tabContents.forEach((content) =>
                content.classList.remove("active"),
            );

            // Add active class to clicked button and corresponding content
            button.classList.add("active");
            const activeContent = document.querySelector(
                `[data-content="${tabName}"]`,
            );
            if (activeContent) {
                activeContent.classList.add("active");
            }
        });
    });

    // News carousel functionality
    const track = document.querySelector(".news-track") as HTMLElement | null;
    const prevButton = document.querySelector(
        ".carousel-button.prev",
    ) as HTMLElement | null;
    const nextButton = document.querySelector(
        ".carousel-button.next",
    ) as HTMLElement | null;
    const indicators = document.querySelectorAll(
        ".indicator",
    ) as NodeListOf<HTMLElement>;

    let currentIndex = 0;
    const itemsPerSlide = 3;
    const totalItems = 6;
    const totalSlides = Math.ceil(totalItems / itemsPerSlide);

    function updateCarousel() {
        if (track) {
            const cardElement = track.querySelector(
                ".news-card",
            ) as HTMLElement | null;
            const cardWidth = cardElement?.offsetWidth || 0;
            const gap = 24;
            const offset =
                currentIndex *
                (cardWidth * itemsPerSlide + gap * itemsPerSlide);
            track.style.transform = `translateX(-${offset}px)`;

            // Update indicators
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle("active", index === currentIndex);
            });
        }
    }

    if (prevButton) {
        prevButton.addEventListener("click", () => {
            currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
            updateCarousel();
        });
    }

    if (nextButton) {
        nextButton.addEventListener("click", () => {
            currentIndex = (currentIndex + 1) % totalSlides;
            updateCarousel();
        });
    }

    indicators.forEach((indicator, index) => {
        indicator.addEventListener("click", () => {
            currentIndex = index;
            updateCarousel();
        });
    });

    // Auto-play carousel
    let autoplayInterval = setInterval(() => {
        currentIndex = (currentIndex + 1) % totalSlides;
        updateCarousel();
    }, 5000);

    // Pause autoplay on hover
    const carouselWrapper = document.querySelector(".news-carousel-wrapper");
    if (carouselWrapper) {
        carouselWrapper.addEventListener("mouseenter", () => {
            clearInterval(autoplayInterval);
        });

        carouselWrapper.addEventListener("mouseleave", () => {
            autoplayInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % totalSlides;
                updateCarousel();
            }, 5000);
        });
    }

    // Handle window resize
    let resizeTimeout: ReturnType<typeof setTimeout>;
    window.addEventListener("resize", () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            updateCarousel();
        }, 250);
    });
</script>
